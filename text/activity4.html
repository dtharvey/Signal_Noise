


<!-- text for activity 4 -->
<div id="moving-average-and-savitzky-golay-smoothing-filters" class="section level4">
<h4>Moving Average and Savitzky-Golay Smoothing Filters</h4>
<p>Signal averaging is effective when the time to record a single
spectrum is short and when the sample and the instrument are stable with
respect to time. If either condition fails we can smooth the noise by
applying a smoothing filter, two of which are covered here. In a moving
average filter, we average an odd number of consecutive points—this is
the filter’s length—and replace the middle point with this average,
repeating this algorithm from the spectrum’s beginning to its end. A
moving average filter treats all points equally. With a Savitzky-Golay
filter we assign more weight to points near the filter’s middle and less
weight to points at the edges.</p>
<p><strong>Exercise 1</strong>. Explain why averaging five consecutive
points from a noisy spectrum will reduce the noise more than the
signal.</p>
<p><strong>Exercise 2</strong>. Why do both filters require an odd
number of data points?</p>
<p><strong>Exercise 3</strong>. Use the controls on the right to explore
how the length of a moving average filter affects the signal-to-noise
ratio. The signal is measured at 630 nm and the noise is measured
between 725 nm and 775 nm. The magenta trace is the original data and
the dark blue trace is the data after smoothing. Repeat using the
Savitzky-Golay filter. Compare equally-sized moving average filters and
Savitzky-Golay filters and comment on your results.</p>
<p><strong>Exercise 4</strong>. As you increase the width of the moving
average filter you should notice that the smoothed spectrum has lost
points at both ends. Explain why this distortion of the original
spectrum is expected.</p>
<p><strong>Exercise 5</strong>. For both the moving average filter and
the Savitzky-Golay filter, set the filter’s length to 25. How does the
smoothed data differ when using these two filters?</p>
</div>
